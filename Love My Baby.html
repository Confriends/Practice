<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=.5">
<style>
body {
    background-image: url('inv.png'); /* replace with your image path */
    background-size: cover;
    background-position: center top;
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-color: black;
    margin: 0;
    height: 100vh;
    overflow: hidden; /* Prevent page scroll */
}

.video-container {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    height: 0;
    overflow: hidden;
    margin-top: 70px;
}

.video-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.clickable-area {
    position: absolute;
    width: 200px;
    height: 100px;
    background-color: transparent;
}

a {
    display: block;
    width: 100%;
    height: 100%;
    text-decoration: none;
    cursor: pointer;
}

/* Highlighted state for clickable areas */
.highlight {
    border: 3px solid #00FF00; /* Bright green border */
    background-color: rgba(0, 255, 0, 0.3); /* Light green background */
}
</style>
</head>
<body>

<h1></h1>
<div class="video-container">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/HkMD3nZqw0Q?si=Fd7IeyluN-n4jKTf" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    <a href="index.HTML" style="display: block; width: 100%; height: 100%;"></a>
</div>

<!-- Clickable areas for navigation, matching the previous page's structure -->
<div class="clickable-area" id="area1" style="top: 20px; left: 18%;">
    <a href="stats.html" onclick="playSound(event)"></a>
</div>

<div class="clickable-area" id="area2" style="top: 20px; left: 31.5%;">
    <a href="inv.html" onclick="playSound(event)"></a>
</div>

<div class="clickable-area" id="area3" style="top: 20px; left: 45%;">
    <a href="data.html" onclick="playSound(event)"></a>
</div>

<div class="clickable-area" id="area4" style="top: 20px; right: 13.2%;">
    <a href="radio.html" onclick="playSound(event)"></a>
</div>

<!-- Click sound -->
<audio id="clickSound" src="click.wav"></audio> <!-- Default click sound -->
<audio id="specialClickSound" src="click.wav"></audio> <!-- Special click sound -->

<script>
// Array of all clickable areas (links) in order of appearance
const clickableAreas = [
    document.querySelector('a[href="stats.html"]'), // Stats link
    document.querySelector('a[href="inv.html"]'),   // Inventory link
    document.querySelector('a[href="data.html"]'),  // Data link
    document.querySelector('a[href="radio.html"]')  // Radio link
];

let currentIndex = 0; // Starting index

// Function to play the appropriate sound
function playSound(event) {
    event.preventDefault(); // Prevent the default link behavior until we are ready
    
    var audio = document.getElementById('clickSound');
    audio.play(); // Play the default click sound

    // Delay opening the new page to allow the sound to play
    setTimeout(function() {
        window.open(event.target.href, '_blank'); // Open the link after the delay
    }, 500); // Adjust the delay as needed
}

// Function to highlight the next clickable area
function highlightNextArea() {
    clickableAreas[currentIndex].classList.remove('highlight'); // Remove previous highlight
    currentIndex = (currentIndex + 1) % clickableAreas.length; // Increment index
    clickableAreas[currentIndex].classList.add('highlight'); // Add new highlight
    var audio = document.getElementById('clickSound');
    audio.play(); // Play click sound
}

// Function to highlight the previous clickable area
function highlightPreviousArea() {
    clickableAreas[currentIndex].classList.remove('highlight'); // Remove previous highlight
    currentIndex = (currentIndex - 1 + clickableAreas.length) % clickableAreas.length; // Decrement index
    clickableAreas[currentIndex].classList.add('highlight'); // Add new highlight
    var audio = document.getElementById('clickSound');
    audio.play(); // Play click sound
}

// Function to activate the currently highlighted area (simulate a click)
function activateSelectedArea() {
    const currentLink = clickableAreas[currentIndex];
    currentLink.click(); // Simulate a click on the highlighted area
}

// Handling touch events for swipe detection
let touchStartY = 0; // Track the initial touch position
let lastSwipeTime = 0; // Track the time of the last swipe
const DOUBLE_SWIPE_THRESHOLD = 500; // Maximum time between swipes for a double swipe to be detected

document.addEventListener('touchstart', function(e) {
    touchStartY = e.touches[0].clientY; // Store the initial Y position on touch start
});

document.addEventListener('touchmove', function(e) {
    const touchEndY = e.touches[0].clientY; // Get the current touch position
    const screenHeight = window.innerHeight;

    // Swipe up from the top half of the screen (move forward)
    if (touchStartY > touchEndY && touchEndY < screenHeight / 2) {
        highlightNextArea();
    }
    // Swipe down from the bottom half of the screen (move backward)
    else if (touchStartY < touchEndY && touchEndY > screenHeight / 2) {
        const currentTime = Date.now();

        // Check if this swipe is within the DOUBLE_SWIPE_THRESHOLD time from the last swipe
        if (currentTime - lastSwipeTime < DOUBLE_SWIPE_THRESHOLD) {
            highlightPreviousArea(); // Only go back one step
        } else {
            highlightPreviousArea();
        }

        // Update the last swipe time to the current time
        lastSwipeTime = currentTime;
    }
});

// Handling mouse wheel events to cycle through clickable areas
window.addEventListener('wheel', function(event) {
    event.preventDefault(); // Prevent default scroll behavior (no page scrolling)
    
    if (event.deltaY > 0) {
        highlightNextArea(); // Scroll down -> Move forward
    } else {
        highlightPreviousArea(); // Scroll up -> Move backward
    }
}, { passive: false }); // Allows calling event.preventDefault()

// Add event listeners for device buttons or keyboard
document.addEventListener('keydown', function(event) {
    if (event.key === 'ArrowRight') {
        highlightNextArea(); // Move forward
    }
    else if (event.key === 'ArrowLeft') {
        highlightPreviousArea(); // Move backward
    }
    else if (event.key === 'Enter') {
        activateSelectedArea(); // Select the highlighted link
    }
});

// Initial highlight
clickableAreas[currentIndex].classList.add('highlight');
</script>

</body>
</html>
